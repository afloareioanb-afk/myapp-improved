<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <title>SRE Readiness Questionnaire</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Safari-specific CSS fixes -->
    <style>
      /* Safari-specific input styling */
      @supports (-webkit-appearance: none) {
        input[type="text"] {
          -webkit-appearance: none;
          border-radius: 4px;
        }
        button {
          -webkit-appearance: none;
        }
      }
      
      /* Safari flexbox fixes */
      @supports (-webkit-box-align: center) {
        .title-row, .progress-wrap, .stats-wrap, .actions {
          display: -webkit-box;
          -webkit-box-align: center;
          -webkit-box-pack: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="sprockets" aria-hidden="true">
      <!-- Large gears -->
      <svg class="gear gear-lg" viewBox="0 0 100 100">
        <path d="M50 18l6 4 8-3 4 6 8 1 1 8 7 5-3 7 3 8-7 5-1 8-8 1-4 6-8-3-6 4-6-4-8 3-4-6-8-1-1-8-7-5 3-8-3-7 7-5 1-8 8-1 4-6 8 3 6-4zm0 14a18 18 0 1 0 0 36 18 18 0 0 0 0-36z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      <svg class="gear gear-md" viewBox="0 0 100 100">
        <path d="M50 20l5 3 7-3 3 5 7 1 1 7 6 4-2 6 2 7-6 4-1 7-7 1-3 5-7-3-5 3-5-3-7 3-3-5-7-1-1-7-6-4 2-7-2-6 6-4 1-7 7-1 3-5 7 3 5-3zm0 13a15 15 0 1 0 0 30 15 15 0 0 0 0-30z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      <svg class="gear gear-sm" viewBox="0 0 100 100">
        <path d="M50 24l4 3 5-2 3 4 5 1 1 5 4 3-2 5 2 5-4 3-1 5-5 1-3 4-5-2-4 3-4-3-5 2-3-4-5-1-1-5-4-3 2-5-2-5 4-3 1-5 5-1 3-4 5 2 4-3zm0 10a11 11 0 1 0 0 22 11 11 0 0 0 0-22z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      
      <!-- Additional smaller gears -->
      <svg class="gear gear-xs" viewBox="0 0 100 100">
        <path d="M50 25l4 2 6-2 2 4 6 1 1 6 5 3-2 5 2 5-5 3-1 6-6 1-2 4-6-2-4 2-4-2-6 2-2-4-6-1-1-6-5-3 2-5-2-5 5-3 1-6 6-1 2-4 6 2 4-2zm0 12a12 12 0 1 0 0 24 12 12 0 0 0 0-24z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      <svg class="gear gear-micro" viewBox="0 0 100 100">
        <path d="M50 28l3 2 4-2 2 3 4 1 1 4 3 2-1 3 1 3-3 2-1 4-4 1-2 3-4-2-3 2-3-2-4 2-2-3-4-1-1-4-3-2 1-3-1-3 3-2 1-4 4-1 2-3 4 2 3-2zm0 8a8 8 0 1 0 0 16 8 8 0 0 0 0-16z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      <svg class="gear gear-nano" viewBox="0 0 100 100">
        <path d="M50 30l2 1 3-1 1 2 3 1 1 3 2 1-1 2 1 2-2 1-1 3-3 1-1 2-3-1-2 1-2-1-3 1-1-2-3-1-1-3-2-1 1-2-1-2 2-1 1-3 3-1 1-2 3 1 2-1zm0 6a6 6 0 1 0 0 12 6 6 0 0 0 0-12z" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
      
      <!-- SRE floating text -->
      <div class="sre-text top-left">SRE</div>
      <div class="sre-text top-right">RELIABILITY</div>
      <div class="sre-text bottom-left">ENGINEERING</div>
      <div class="sre-text bottom-right">SITE</div>
      
      <!-- Brain drawing -->
      <div class="brain">
        <svg viewBox="0 0 100 80" fill="none" stroke="currentColor" stroke-width="1">
          <!-- Brain outline -->
          <path d="M20 40 Q30 20 50 20 Q70 20 80 40 Q80 60 70 60 Q50 60 30 60 Q20 60 20 40" stroke="currentColor" fill="none"/>
          <!-- Brain folds -->
          <path d="M25 35 Q35 25 50 25 Q65 25 75 35" stroke="currentColor" fill="none"/>
          <path d="M25 45 Q35 35 50 35 Q65 35 75 45" stroke="currentColor" fill="none"/>
          <path d="M25 55 Q35 45 50 45 Q65 45 75 55" stroke="currentColor" fill="none"/>
          <!-- Neural connections -->
          <circle cx="30" cy="30" r="1" fill="currentColor"/>
          <circle cx="40" cy="25" r="1" fill="currentColor"/>
          <circle cx="50" cy="22" r="1" fill="currentColor"/>
          <circle cx="60" cy="25" r="1" fill="currentColor"/>
          <circle cx="70" cy="30" r="1" fill="currentColor"/>
          <circle cx="35" cy="40" r="1" fill="currentColor"/>
          <circle cx="45" cy="35" r="1" fill="currentColor"/>
          <circle cx="55" cy="35" r="1" fill="currentColor"/>
          <circle cx="65" cy="40" r="1" fill="currentColor"/>
          <circle cx="30" cy="50" r="1" fill="currentColor"/>
          <circle cx="40" cy="45" r="1" fill="currentColor"/>
          <circle cx="50" cy="45" r="1" fill="currentColor"/>
          <circle cx="60" cy="45" r="1" fill="currentColor"/>
          <circle cx="70" cy="50" r="1" fill="currentColor"/>
        </svg>
      </div>
    </div>
    <header class="app-header">
      <div class="title-row">
        <h1>SRE Readiness Questionnaire</h1>
        <div class="badges">
          <span class="badge">SLO</span>
          <span class="badge">MTTR</span>
          <span class="badge">DR</span>
        </div>
      </div>
             <p class="subtitle">Shareable link, autosave, and summary export</p>

      <div class="progress-wrap">
        <div class="progress-bar"><span id="progress-bar-fill"></span></div>
        <span id="progress-label">0% answered</span>
      </div>
      <div class="stats-wrap">
        <div class="stats-group">
          <span id="onboard-frontend">Frontend onboard: ‚Äî</span>
          <span id="onboard-frontend-mon" class="sub">Monitor: ‚Äî</span>
          <span id="onboard-frontend-al" class="sub">Alert: ‚Äî</span>
        </div>
        <div class="stats-group">
          <span id="onboard-backend">Backend onboard: ‚Äî</span>
          <span id="onboard-backend-mon" class="sub">Monitor: ‚Äî</span>
          <span id="onboard-backend-al" class="sub">Alert: ‚Äî</span>
        </div>
        <div class="stats-group">
          <span id="onboard-apis">APIs onboard: ‚Äî</span>
          <span id="onboard-apis-mon" class="sub">Monitor: ‚Äî</span>
          <span id="onboard-apis-al" class="sub">Alert: ‚Äî</span>
        </div>
        <div class="stats-group">
          <span id="onboard-mobile">Mobile onboard: ‚Äî</span>
          <span id="onboard-mobile-mon" class="sub">Monitor: ‚Äî</span>
          <span id="onboard-mobile-al" class="sub">Alert: ‚Äî</span>
        </div>
      </div>
    </header>

    <main class="container">
      <form id="questionnaire" novalidate>
        <section class="card" id="meta">
          <h2><span class="icon">üìÑ</span> Application Metadata</h2>
          <div class="grid2">
            <div class="field">
              <label for="app_name">Application name <span class="required">*</span></label>
              <input id="app_name" name="app_name" type="text" placeholder="e.g., Payments Portal" autocomplete="off" required />
            </div>
            <div class="field">
              <label for="role">Role <span class="required">*</span></label>
              <select id="role" name="role" required>
                <option value="">Select a role</option>
                <option value="ITAO">ITAO</option>
                <option value="SRE">SRE</option>
                <option value="PO">PO</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="CSM">CSM</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="field" id="role_other_wrap" style="display:none;margin-top:8px;">
              <input id="role_other" name="role_other" type="text" placeholder="Specify other role" autocomplete="off" />
            </div>
          </div>
          <div class="grid2">
            <div class="field">
              <label for="nar_id">NAR-ID <span class="required">*</span></label>
              <input id="nar_id" name="nar_id" type="text" placeholder="e.g., NAR-12345" autocomplete="off" required />
            </div>
            <div class="field">
              <label for="contact_email"><span class="icon">üìß</span> Contact Email <span class="required">*</span></label>
              <input id="contact_email" name="contact_email" type="email" placeholder="email@db.com" autocomplete="email" required pattern=".*@db\.com$" title="Email must end with @db.com" />
            </div>
          </div>
            <div class="field">
              <label>Application Type</label>
              <div class="segmented" id="application_type_segmented">
                <button type="button" data-apptype="webserver">Web Server</button>
                <button type="button" data-apptype="api">API</button>
                <button type="button" data-apptype="microservice">Microservice</button>
                <button type="button" data-apptype="batch">Batch</button>
                <button type="button" data-apptype="eventdriven">Event-driven</button>
                <button type="button" data-apptype="other">Other</button>
              </div>
              <div class="field" id="application_type_extra_wrap" style="display:none;margin-top:8px;">
                <input id="application_type_extra" name="application_type_extra" type="text" placeholder="Additional information (optional)" autocomplete="off" />
              </div>
            </div>
            <div class="field">
              <label>Language</label>
              <div class="segmented" id="app_type_segmented">
                <button type="button" data-type="java">Java</button>
                <button type="button" data-type="nodejs">Node.js</button>
                <button type="button" data-type="python">Python</button>
                <button type="button" data-type="other">Other</button>
              </div>
              <div class="field" id="app_type_other_wrap" style="display:none;margin-top:8px;">
                <input id="app_type_other" name="app_type_other" type="text" placeholder="Specify other language" autocomplete="off" />
              </div>
            </div>
            <div class="field">
              <label>Database</label>
              <div class="segmented" id="database_segmented">
                <button type="button" data-db="spanner">Spanner</button>
                <button type="button" data-db="cloudsql">CloudSQL(Postgres, SQLServer)</button>
                <button type="button" data-db="oracle">Oracle</button>
                <button type="button" data-db="sqlserver">SQLServer</button>
                <button type="button" data-db="bigquery">BigQuery</button>
                <button type="button" data-db="postgresql">PostgreSQL</button>
                <button type="button" data-db="mongodb">MongoDB</button>
                <button type="button" data-db="redis">Redis</button>
                <button type="button" data-db="other">Other</button>
              </div>
              <div class="field" id="database_other_wrap" style="display:none;margin-top:8px;">
                <input id="database_other" name="database_other" type="text" placeholder="Specify other database" autocomplete="off" />
              </div>
            </div>
            <div class="field">
              <label>Messaging</label>
              <div class="segmented" id="messaging_segmented">
                <button type="button" data-msg="ibmmq">IBM MQ</button>
                <button type="button" data-msg="kafka">Kafka</button>
                <button type="button" data-msg="other">Other</button>
              </div>
              <div class="field" id="messaging_other_wrap" style="display:none;margin-top:8px;">
                <input id="messaging_other" name="messaging_other" type="text" placeholder="Specify other messaging" autocomplete="off" />
              </div>
            </div>
            <div class="field">
              <label>Batch</label>
              <div class="segmented" id="batch_segmented">
                <button type="button" data-batch="automic">Automic/UC4</button>
                <button type="button" data-batch="controlm">Control-M</button>
                <button type="button" data-batch="gcpbatch">GCP Batch</button>
                <button type="button" data-batch="other">Other</button>
              </div>
              <div class="field" id="batch_other_wrap" style="display:none;margin-top:8px;">
                <input id="batch_other" name="batch_other" type="text" placeholder="Specify other batch" autocomplete="off" />
              </div>
            </div>
            <div class="field" id="role_other_wrap" style="display:none;margin-top:8px;">
              <input id="role_other" name="role_other" type="text" placeholder="Specify other role" autocomplete="off" />
            </div>
        </section>

        <section class="card" id="locations">
          <h2><span class="icon">üåê</span> Infrastructure/Application Hosting</h2>
          <div class="field">
            <label>Select one location</label>
            <div class="segmented" id="location_segmented">
              <button type="button" data-loc="gcp" data-tooltip="GKE,GCE,Cloud Run,Cloud Function">GCP</button>
              <button type="button" data-loc="onprem" data-tooltip="Fabric2/OpenShift,VHS, DAP,Mainframe,Other">On-Prem</button>
              <button type="button" data-loc="hybrid" data-tooltip="GKE,GCE,Cloud Run,Cloud Function + Fabric2/OpenShift,VHS, DAP,Mainframe,Other">Hybrid</button>
            </div>
          </div>
          <div id="locations-root">
            <div id="location-tooltip" class="location-tooltip" style="display:none;"></div>
          </div>
        </section>

        <section class="card" id="agent-instrumentation">
          <h2><span class="icon">üîß</span> Agent Instrumentation (for data collection/ingestion)</h2>
          <div class="question">
            <label>Frontend (Browser)</label>
            <div class="chipset" id="agent_frontend_chips"></div>
            <div class="field" id="agent_frontend_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_frontend_other" name="agent_frontend_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Mobile</label>
            <div class="chipset" id="agent_mobile_chips"></div>
            <div class="field" id="agent_mobile_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_mobile_other" name="agent_mobile_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Service</label>
            <div class="chipset" id="agent_service_chips"></div>
            <div class="field" id="agent_service_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_service_other" name="agent_service_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Infrastructure (Kubernetes cloud/fabric2, VM/GCE, server)</label>
            <div class="chipset" id="agent_infrastructure_chips"></div>
            <div class="field" id="agent_infrastructure_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_infrastructure_other" name="agent_infrastructure_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Database</label>
            <div class="chipset" id="agent_database_chips"></div>
            <div class="field" id="agent_database_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_database_other" name="agent_database_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Messaging</label>
            <div class="chipset" id="agent_messaging_chips"></div>
            <div class="field" id="agent_messaging_other_wrap" style="display:none;margin-top:8px;">
              <input id="agent_messaging_other" name="agent_messaging_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="field">
            <label for="agent_other_components">Other components</label>
            <input id="agent_other_components" name="agent_other_components" type="text" placeholder="Specify other components" autocomplete="off" />
          </div>
        </section>

        <section class="card" id="slo-monitoring">
          <h2><span class="icon">üìä</span> Service Level (SLO) Monitoring</h2>
          <div class="question">
            <label>Tool</label>
            <div class="chipset" id="slo_monitoring_tool_chips"></div>
          </div>
        </section>

        <section class="card" id="logging">
          <h2><span class="icon">üìù</span> Logging</h2>
          <div class="question">
            <label>Tool</label>
            <div class="chipset" id="logging_tool_chips"></div>
            <div class="field" id="logging_tool_other_wrap" style="display:none;margin-top:8px;">
              <input id="logging_tool_other" name="logging_tool_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Synthetic Monitor Instrumentation</label>
            <div class="chipset" id="logging_synthetic_chips"></div>
            <div class="field" id="logging_synthetic_other_wrap" style="display:none;margin-top:8px;">
              <input id="logging_synthetic_other" name="logging_synthetic_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
        </section>

        <section class="card" id="dashboard">
          <h2><span class="icon">üìà</span> Dashboard</h2>
          <div class="question">
            <label>Catalogue/central dashboard</label>
            <div class="chipset" id="dashboard_catalogue_tool_chips"></div>
            <div class="field" id="dashboard_catalogue_other_wrap" style="display:none;margin-top:8px;">
              <input id="dashboard_catalogue_other" name="dashboard_catalogue_other" type="text" placeholder="Specify other tool" autocomplete="off" />
            </div>
            <div class="field" style="margin-top:8px;">
              <input id="dashboard_catalogue_link" name="dashboard_catalogue_link" type="text" placeholder="Dashboard link (URL)" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>High Level dashboard (like GVO)</label>
            <div class="chipset" id="dashboard_highlevel_tool_chips"></div>
            <div class="field" id="dashboard_highlevel_other_wrap" style="display:none;margin-top:8px;">
              <input id="dashboard_highlevel_other" name="dashboard_highlevel_other" type="text" placeholder="Specify other tool" autocomplete="off" />
            </div>
            <div class="field" style="margin-top:8px;">
              <input id="dashboard_highlevel_link" name="dashboard_highlevel_link" type="text" placeholder="Dashboard link (URL)" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>Low Level/Specific dashboard (like FSO or feature dashboard)</label>
            <div class="chipset" id="dashboard_lowlevel_tool_chips"></div>
            <div class="field" id="dashboard_lowlevel_other_wrap" style="display:none;margin-top:8px;">
              <input id="dashboard_lowlevel_other" name="dashboard_lowlevel_other" type="text" placeholder="Specify other tool" autocomplete="off" />
            </div>
            <div class="field" style="margin-top:8px;">
              <input id="dashboard_lowlevel_link" name="dashboard_lowlevel_link" type="text" placeholder="Dashboard link (URL)" autocomplete="off" />
            </div>
          </div>
        </section>

        <section class="card" id="alerting">
          <h2><span class="icon">üö®</span> Alerting</h2>
          <div class="question">
            <label>Mail notification</label>
            <div class="chipset" id="alerting_mail_chips"></div>
            <div class="field" id="alerting_mail_other_wrap" style="display:none;margin-top:8px;">
              <input id="alerting_mail_other" name="alerting_mail_other" type="text" placeholder="Specify other" autocomplete="off" />
            </div>
          </div>
          <div class="question">
            <label>PCP integration</label>
            <div class="chipset" id="alerting_pcp_chips"></div>
          </div>
        </section>

        <section class="card" id="slo-sla">
          <h2><span class="icon">üéØ</span> SLO/SLA - Service levels</h2>
          <div class="question"><label>Is there a documented SLO/SLA structure for your application?</label><div class="options" data-key="slo_exists"></div></div>
          <div class="slo-sub-questions" data-drill-for="slo_exists">
            <div class="question"><label>Latency SLO (e.g., 95% < 300ms)</label><div class="options" data-key="slo_latency"></div></div>
            <div class="question"><label>Availability SLO (e.g., 99.9%)</label><div class="options" data-key="slo_availability"></div></div>
            <div class="question">
              <label>Add additional SLI/SLO</label>
              <div class="chipset" id="slo_additional_chips"></div>
              <div class="field" id="slo_additional_other_wrap" style="display:none;margin-top:8px;">
                <input id="slo_additional_other" name="slo_additional_other" type="text" placeholder="Specify other SLI/SLO" autocomplete="off" />
              </div>
            </div>
            <div class="question"><label>Error budget defined</label><div class="options" data-key="slo_error_budget"></div></div>
            <div class="question"><label>Wouldn't the error budget always be 100% - SLO target % (e.g., 5% if SLO target is 95%)?</label><div class="options" data-key="slo_error_budget_calc"></div></div>
          </div>
          <div class="question"><label>Is there a documented PDM for your application?</label><div class="options" data-key="slo_pdm"></div></div>
          <div class="question"><label>Do you have critical user journeys documented?</label><div class="options" data-key="slo_cujs"></div></div>
          <div class="question"><label>Do you have a high-level architecture documented?</label><div class="options" data-key="slo_hla"></div></div>
        </section>

        <section class="card" id="dr">
          <h2><span class="icon">üîÑ</span> Disaster Recovery (DR) & Resilience</h2>
          <div class="question"><label>Do you have a documented DR plan?</label><div class="options" data-key="dr_plan"></div></div>
          <div class="question"><label>Are RTO/RPO defined and documented?</label><div class="options" data-key="dr_rto_rpo"></div></div>
          <div class="question"><label>Has the DR plan been tested in the last 12 months?</label><div class="options" data-key="dr_tested"></div></div>
          
        </section>

        <section class="card" id="best-practices">
          <h2><span class="icon">üìö</span> Best Practices</h2>
          <div class="question"><label>Do you have runbooks/support guides?</label><div class="options" data-key="bp_runbooks"></div></div>
          <div class="question"><label>Are critical failure scenarios documented?</label><div class="options" data-key="bp_spof"></div></div>
          <div class="question"><label>Is alert noise documented and addressed?</label><div class="options" data-key="bp_noise"></div></div>
          <div class="question"><label>Do you track MTTR (Mean Time To Recovery)?</label><div class="options" data-key="bp_mttr"></div></div>
          <div class="question"><label>Are direct dependencies documented?</label><div class="options" data-key="bp_dependencies"></div></div>
        </section>

        <section class="card" id="other-mentions">
          <h2><span class="icon">üí¨</span> Other Mentions</h2>
          <div class="field">
            <label for="other_mentions">Additional comments or notes</label>
            <textarea id="other_mentions" name="other_mentions" rows="4" placeholder="Enter any additional information, comments, or notes here..." autocomplete="off"></textarea>
          </div>
        </section>
      </form>

             <div class="actions">
         <button type="button" class="btn primary" id="submit">Generate CSV & Open Email</button>
         <button type="button" class="btn secondary" id="reset">Reset All</button>
       </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
